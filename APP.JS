cat > app.js << 'EOF'
console.log("ðŸš€ SOURCESEAL COLOMBIA V2.0 - PRODUCTION READY");
const http = require('http');

const server = http.createServer((req, res) => {
    console.log(`${new Date().toISOString()} - ${req.method} ${req.url}`);
    
    // RUTAS
    if (req.url === '/' && req.method === 'GET') {
        res.writeHead(200, {
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': '*'
        });
        res.end(JSON.stringify({
            success: true,
            project: "SourceSeal Colombia Protocol V2.0",
            version: "2.0.0",
            status: "ACTIVE",
            timestamp: new Date().toISOString(),
            endpoints: {
                root: "/",
                health: "/health",
                seal: "/seal (POST)"
            }
        }));
    }
    else if (req.url === '/health' && req.method === 'GET') {
        res.writeHead(200, {'Content-Type': 'application/json'});
        res.end(JSON.stringify({
            status: 'healthy',
            uptime: process.uptime()
        }));
    }
    else {
        res.writeHead(404, {'Content-Type': 'application/json'});
        res.end(JSON.stringify({error: 'Endpoint not found'}));
    }
});

const PORT = process.env.PORT || 9999;
const fs = require('fs');
const path = require('path');

// Sirve archivos estÃ¡ticos
if (req.url === '/dashboard' && req.method === 'GET') {
    const html = fs.readFileSync(path.join(__dirname, 'public/index.html'), 'utf8');
    res.writeHead(200, {'Content-Type': 'text/html'});
    res.end(html);
}
server.listen(PORT, '0.0.0.0', () => {
    console.log(`âœ… API ZKP operativa en puerto: ${PORT}`);
    console.log(`ðŸ“Š Status: SourceSeal Colombia Protocol activo`);
});
EOF
