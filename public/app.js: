// Cargar datos de la API al iniciar
document.addEventListener('DOMContentLoaded', function() {
    // Actualizar timestamp
    document.getElementById('timestamp').textContent = 
        `Última actualización: ${new Date().toLocaleString('es-CO')}`;
    
    // Cargar datos de la API
    fetch('/')
        .then(response => {
            if (!response.ok) throw new Error('Error en la API');
            return response.json();
        })
        .then(data => {
            // Formatear JSON bonito
            const formattedJson = JSON.stringify(data, null, 2);
            document.getElementById('api-data').textContent = formattedJson;
            
            // Actualizar badges si es necesario
            if (data.status === 'ACTIVE') {
                document.querySelector('.status-badge').textContent = '● ACTIVE';
            }
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById('api-data').textContent = 
                `Error al conectar con la API: ${error.message}`;
        });
    
    // Simular datos de ZKP (puedes reemplazar con API real)
    setTimeout(() => {
        // Esto es solo para demostración
        console.log('SourceSeal UI cargada correctamente');
    }, 1000);
});